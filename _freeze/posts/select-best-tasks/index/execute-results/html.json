{
  "hash": "441a2509256229719c702ec5063f44e1",
  "result": {
    "markdown": "---\ntitle: Notes on Select Best Tasks for Cognitive Sub-Domain\nauthor: Zhang, Liang\ndate: 2023-11-01\ndate-modified: last-modified\nformat:\n  html:\n    code-fold: true\n    toc: true\nexecute:\n  warning: false\ncrossref:\n  fig-title: 图\n  fig-prefix: 图\n  tbl-title: 表\n  tbl-prefix: 表\nbibliography: references.bib\n---\n\n::: {.cell}\n\n```{.r .cell-code}\ndevtools::load_all()\n# the identifiers are large integers\nrequireNamespace(\"bit64\")\nrequireNamespace(\"parameters\")\n\nprojects <- targets::tar_config_yaml()\n```\n:::\n\n\n# 最佳因子模型\n\n我们采用了基于自助法（bootstrap）的因子聚类方法探索任务的因子归类。不过在开始之前，一些特别类似范式的任务仅保留了一个，如 @tbl-schema-thin，其中`thin`一列为`TRUE`的是被去掉的任务。以下用`all`表示使用全部任务，用`thin`表示去掉类似范式任务的结果。\n\n\n::: {#tbl-schema-thin .cell tbl-cap='相似任务保留情况' hash='index_cache/html/tbl-schema-thin_3d85267b50ed92ea0c3136648312fa6b'}\n\n```{.r .cell-code}\nread_tsv(\"config/games_thin.tsv\", show_col_types = FALSE) |>\n  filter(!is.na(same_id)) |>\n  mutate(thin = if_else(thin, \"是\", \"否\")) |>\n  select(same_id, 名称 = game_name, 是否去掉 = thin) |>\n  arrange(same_id, 是否去掉) |>\n  gt::gt(\n    groupname_col = \"same_id\",\n    row_group_as_column = TRUE\n  ) |>\n  gtExtras::gt_highlight_rows(\n    rows = 是否去掉 == \"是\",\n    fill = \"gray\"\n  )\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"pnfbbggbjq\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#pnfbbggbjq table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#pnfbbggbjq thead, #pnfbbggbjq tbody, #pnfbbggbjq tfoot, #pnfbbggbjq tr, #pnfbbggbjq td, #pnfbbggbjq th {\n  border-style: none;\n}\n\n#pnfbbggbjq p {\n  margin: 0;\n  padding: 0;\n}\n\n#pnfbbggbjq .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#pnfbbggbjq .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#pnfbbggbjq .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#pnfbbggbjq .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#pnfbbggbjq .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#pnfbbggbjq .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#pnfbbggbjq .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#pnfbbggbjq .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#pnfbbggbjq .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#pnfbbggbjq .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#pnfbbggbjq .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#pnfbbggbjq .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#pnfbbggbjq .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#pnfbbggbjq .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#pnfbbggbjq .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#pnfbbggbjq .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#pnfbbggbjq .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#pnfbbggbjq .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#pnfbbggbjq .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#pnfbbggbjq .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#pnfbbggbjq .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#pnfbbggbjq .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#pnfbbggbjq .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#pnfbbggbjq .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#pnfbbggbjq .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#pnfbbggbjq .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#pnfbbggbjq .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#pnfbbggbjq .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#pnfbbggbjq .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#pnfbbggbjq .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#pnfbbggbjq .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#pnfbbggbjq .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#pnfbbggbjq .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#pnfbbggbjq .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#pnfbbggbjq .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#pnfbbggbjq .gt_left {\n  text-align: left;\n}\n\n#pnfbbggbjq .gt_center {\n  text-align: center;\n}\n\n#pnfbbggbjq .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#pnfbbggbjq .gt_font_normal {\n  font-weight: normal;\n}\n\n#pnfbbggbjq .gt_font_bold {\n  font-weight: bold;\n}\n\n#pnfbbggbjq .gt_font_italic {\n  font-style: italic;\n}\n\n#pnfbbggbjq .gt_super {\n  font-size: 65%;\n}\n\n#pnfbbggbjq .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#pnfbbggbjq .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#pnfbbggbjq .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#pnfbbggbjq .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#pnfbbggbjq .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#pnfbbggbjq .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#pnfbbggbjq .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    \n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"\"></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"名称\">名称</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"是否去掉\">是否去掉</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr class=\"gt_row_group_first\"><td headers=\"1 stub_1_1 stub_1\" rowspan=\"5\" class=\"gt_row gt_left gt_stub_row_group\">1</td>\n<td headers=\"1 stub_1_1 名称\" class=\"gt_row gt_left\">格子卡片</td>\n<td headers=\"1 stub_1_1 是否去掉\" class=\"gt_row gt_left\">否</td></tr>\n    <tr><td headers=\"1 名称_2 名称\" class=\"gt_row gt_left\" style=\"background-color: rgba(190,190,190,0.8); color: #000000; font-weight: bold;\">美术卡片</td>\n<td headers=\"1 名称_2 是否去掉\" class=\"gt_row gt_left\" style=\"background-color: rgba(190,190,190,0.8); color: #000000; font-weight: bold;\">是</td></tr>\n    <tr><td headers=\"1 名称_3 名称\" class=\"gt_row gt_left\" style=\"background-color: rgba(190,190,190,0.8); color: #000000; font-weight: bold;\">魔术师终极</td>\n<td headers=\"1 名称_3 是否去掉\" class=\"gt_row gt_left\" style=\"background-color: rgba(190,190,190,0.8); color: #000000; font-weight: bold;\">是</td></tr>\n    <tr><td headers=\"1 名称_4 名称\" class=\"gt_row gt_left\" style=\"background-color: rgba(190,190,190,0.8); color: #000000; font-weight: bold;\">数字卡片PRO</td>\n<td headers=\"1 名称_4 是否去掉\" class=\"gt_row gt_left\" style=\"background-color: rgba(190,190,190,0.8); color: #000000; font-weight: bold;\">是</td></tr>\n    <tr><td headers=\"1 名称_5 名称\" class=\"gt_row gt_left\" style=\"background-color: rgba(190,190,190,0.8); color: #000000; font-weight: bold;\">文字卡片</td>\n<td headers=\"1 名称_5 是否去掉\" class=\"gt_row gt_left\" style=\"background-color: rgba(190,190,190,0.8); color: #000000; font-weight: bold;\">是</td></tr>\n    <tr class=\"gt_row_group_first\"><td headers=\"2 stub_1_6 stub_1\" rowspan=\"2\" class=\"gt_row gt_left gt_stub_row_group\">2</td>\n<td headers=\"2 stub_1_6 名称\" class=\"gt_row gt_left\">方向检测</td>\n<td headers=\"2 stub_1_6 是否去掉\" class=\"gt_row gt_left\">否</td></tr>\n    <tr><td headers=\"2 名称_7 名称\" class=\"gt_row gt_left\" style=\"background-color: rgba(190,190,190,0.8); color: #000000; font-weight: bold;\">色彩检测</td>\n<td headers=\"2 名称_7 是否去掉\" class=\"gt_row gt_left\" style=\"background-color: rgba(190,190,190,0.8); color: #000000; font-weight: bold;\">是</td></tr>\n    <tr class=\"gt_row_group_first\"><td headers=\"3 stub_1_8 stub_1\" rowspan=\"3\" class=\"gt_row gt_left gt_stub_row_group\">3</td>\n<td headers=\"3 stub_1_8 名称\" class=\"gt_row gt_left\">注意指向</td>\n<td headers=\"3 stub_1_8 是否去掉\" class=\"gt_row gt_left\">否</td></tr>\n    <tr><td headers=\"3 名称_9 名称\" class=\"gt_row gt_left\" style=\"background-color: rgba(190,190,190,0.8); color: #000000; font-weight: bold;\">太空飞船PRO</td>\n<td headers=\"3 名称_9 是否去掉\" class=\"gt_row gt_left\" style=\"background-color: rgba(190,190,190,0.8); color: #000000; font-weight: bold;\">是</td></tr>\n    <tr><td headers=\"3 名称_10 名称\" class=\"gt_row gt_left\" style=\"background-color: rgba(190,190,190,0.8); color: #000000; font-weight: bold;\">注意警觉</td>\n<td headers=\"3 名称_10 是否去掉\" class=\"gt_row gt_left\" style=\"background-color: rgba(190,190,190,0.8); color: #000000; font-weight: bold;\">是</td></tr>\n    <tr class=\"gt_row_group_first\"><td headers=\"4 stub_1_11 stub_1\" rowspan=\"2\" class=\"gt_row gt_left gt_stub_row_group\">4</td>\n<td headers=\"4 stub_1_11 名称\" class=\"gt_row gt_left\">速算师（中级）</td>\n<td headers=\"4 stub_1_11 是否去掉\" class=\"gt_row gt_left\">否</td></tr>\n    <tr><td headers=\"4 名称_12 名称\" class=\"gt_row gt_left\" style=\"background-color: rgba(190,190,190,0.8); color: #000000; font-weight: bold;\">专注大师_中级</td>\n<td headers=\"4 名称_12 是否去掉\" class=\"gt_row gt_left\" style=\"background-color: rgba(190,190,190,0.8); color: #000000; font-weight: bold;\">是</td></tr>\n    <tr class=\"gt_row_group_first\"><td headers=\"5 stub_1_13 stub_1\" rowspan=\"2\" class=\"gt_row gt_left gt_stub_row_group\">5</td>\n<td headers=\"5 stub_1_13 名称\" class=\"gt_row gt_left\">宇宙黑洞A</td>\n<td headers=\"5 stub_1_13 是否去掉\" class=\"gt_row gt_left\">否</td></tr>\n    <tr><td headers=\"5 名称_14 名称\" class=\"gt_row gt_left\" style=\"background-color: rgba(190,190,190,0.8); color: #000000; font-weight: bold;\">城市导航</td>\n<td headers=\"5 名称_14 是否去掉\" class=\"gt_row gt_left\" style=\"background-color: rgba(190,190,190,0.8); color: #000000; font-weight: bold;\">是</td></tr>\n    <tr class=\"gt_row_group_first\"><td headers=\"6 stub_1_15 stub_1\" rowspan=\"2\" class=\"gt_row gt_left gt_stub_row_group\">6</td>\n<td headers=\"6 stub_1_15 名称\" class=\"gt_row gt_left\">图形折叠</td>\n<td headers=\"6 stub_1_15 是否去掉\" class=\"gt_row gt_left\">否</td></tr>\n    <tr><td headers=\"6 名称_16 名称\" class=\"gt_row gt_left\" style=\"background-color: rgba(190,190,190,0.8); color: #000000; font-weight: bold;\">平面展开</td>\n<td headers=\"6 名称_16 是否去掉\" class=\"gt_row gt_left\" style=\"background-color: rgba(190,190,190,0.8); color: #000000; font-weight: bold;\">是</td></tr>\n    <tr class=\"gt_row_group_first\"><td headers=\"7 stub_1_17 stub_1\" rowspan=\"2\" class=\"gt_row gt_left gt_stub_row_group\">7</td>\n<td headers=\"7 stub_1_17 名称\" class=\"gt_row gt_left\">三维心理旋转测试A</td>\n<td headers=\"7 stub_1_17 是否去掉\" class=\"gt_row gt_left\">否</td></tr>\n    <tr><td headers=\"7 名称_18 名称\" class=\"gt_row gt_left\" style=\"background-color: rgba(190,190,190,0.8); color: #000000; font-weight: bold;\">物体旋转</td>\n<td headers=\"7 名称_18 是否去掉\" class=\"gt_row gt_left\" style=\"background-color: rgba(190,190,190,0.8); color: #000000; font-weight: bold;\">是</td></tr>\n    <tr class=\"gt_row_group_first\"><td headers=\"8 stub_1_19 stub_1\" rowspan=\"3\" class=\"gt_row gt_left gt_stub_row_group\">8</td>\n<td headers=\"8 stub_1_19 名称\" class=\"gt_row gt_left\">语义判断</td>\n<td headers=\"8 stub_1_19 是否去掉\" class=\"gt_row gt_left\">否</td></tr>\n    <tr><td headers=\"8 名称_20 名称\" class=\"gt_row gt_left\" style=\"background-color: rgba(190,190,190,0.8); color: #000000; font-weight: bold;\">词语判断</td>\n<td headers=\"8 名称_20 是否去掉\" class=\"gt_row gt_left\" style=\"background-color: rgba(190,190,190,0.8); color: #000000; font-weight: bold;\">是</td></tr>\n    <tr><td headers=\"8 名称_21 名称\" class=\"gt_row gt_left\" style=\"background-color: rgba(190,190,190,0.8); color: #000000; font-weight: bold;\">声调判断</td>\n<td headers=\"8 名称_21 是否去掉\" class=\"gt_row gt_left\" style=\"background-color: rgba(190,190,190,0.8); color: #000000; font-weight: bold;\">是</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n:::\n\n\n由于因子个数对于我们的研究很重要，我们尝试了很多传统办法，结果很不稳定：\n\n\n::: {#fig-nfactors .cell hash='index_cache/html/fig-nfactors_c878044ab4e21a7f96ddf4458f9a7008'}\n\n```{.r .cell-code}\ntargets::tar_read(\n  n_factors_test_all,\n  store = projects$explore_factors$store\n) |>\n  plot()\n\ntargets::tar_read(\n  n_factors_test_thin,\n  store = projects$explore_factors$store\n) |>\n  plot()\n```\n\n::: {.cell-output-display}\n![包含全部任务](index_files/figure-html/fig-nfactors-1.png){#fig-nfactors-1 width=672}\n:::\n\n::: {.cell-output-display}\n![去除同范式任务](index_files/figure-html/fig-nfactors-2.png){#fig-nfactors-2 width=672}\n:::\n\n传统方法的因子个数结果\n:::\n\n\n采用基于自助法的因子聚类方法，结果如 @fig-compare-cluster-factors。\n\n\n::: {.cell hash='index_cache/html/fig-compare-cluster-factors_2e827dcfa769413c418c89209f12ad0f'}\n\n```{.r .cell-code}\ntargets::tar_read(cluster_stats, store = projects$explore_factors$store) |>\n  ggplot(aes(n_fact, k, fill = crit)) +\n  geom_raster() +\n  geom_point(aes(n_fact, nc), color = \"white\") +\n  facet_wrap(~schema) +\n  scale_x_continuous(name = \"Number of Factors\", expand = c(0, 0)) +\n  scale_y_continuous(name = \"Number of Clusters\", expand = c(0, 0)) +\n  scale_fill_viridis_c(\n    name = \"Silhouette Score\",\n    breaks = scales::breaks_pretty(n = 4)\n  ) +\n  theme_minimal(base_size = 16) +\n  theme(legend.position = \"top\") +\n  coord_fixed()\n```\n\n::: {.cell-output-display}\n![Evaluation of clustering results](index_files/figure-html/fig-compare-cluster-factors-1.png){#fig-compare-cluster-factors width=960}\n:::\n:::\n\n\n我们从中选出轮廓系数（silhouette score）最大的10个因子聚类结果，并进一步用验证性因子分析确定是否最优轮廓系数的结果是否最佳。注意，我们可以得到每个任务指标的轮廓系数，因此可以用此系数来确定该任务归入对应类别的可信度。一般而言，轮廓系数大于0.5[^1]时才可靠。同时，为了保证因子分析结果的可比性，我们将轮廓系数不达标的的任务指标的载荷固定为0后做验证性因素分析。\n\n[^1]: 查看[ResearchGate上的一个讨论](https://www.researchgate.net/post/Threshold_silhouette_score_for_cluster_analysis)确定这标准来源。\n\n\n::: {#fig-fitmeas-models .cell hash='index_cache/html/fig-fitmeas-models_b50542110dfa5793ad546d2e462cb834'}\n\n```{.r .cell-code}\ngof_best_modesl <- tar_read(\n  results_cfa, \n  store = projects$explore_factors$store\n) |> \n  select(schema, n, gof) |> \n  unnest(gof)\n\nmeasures <- c(\"bic\", \"cfi\", \"rmsea\")\nfor (measure in measures) {\n  p <- gof_best_modesl |> \n    ggplot(aes(n, .data[[measure]])) +\n    geom_point() +\n    geom_line() +\n    scale_x_continuous(\n      name = \"Model Rank\", \n      breaks = scales::breaks_width(1)\n    ) +\n    facet_wrap(~ schema, scales = \"free_y\") +\n    ggpubr::theme_pubclean()\n  print(p)\n}\n```\n\n::: {.cell-output-display}\n![BIC](index_files/figure-html/fig-fitmeas-models-1.png){#fig-fitmeas-models-1 width=672}\n:::\n\n::: {.cell-output-display}\n![CFI](index_files/figure-html/fig-fitmeas-models-2.png){#fig-fitmeas-models-2 width=672}\n:::\n\n::: {.cell-output-display}\n![RMSEA](index_files/figure-html/fig-fitmeas-models-3.png){#fig-fitmeas-models-3 width=672}\n:::\n\n最佳10个模型拟合情况（仅展示成功拟合的模型）\n:::\n\n\n进一步，根据Vuong [-@vuong1989]提出的比较非嵌套模型的检验，我们也对拟合成功的模型做了两两比较。结果发现仅有`thin`的前5个有两两比较结果。\n\n\n::: {.cell hash='index_cache/html/unnamed-chunk-6_f45ca95223561e2b0dcc051f3110ecf8'}\n\n```{.r .cell-code}\ntargets::tar_read(comparison, store = projects$explore_factors$store) |> \n  select(left, right, everything()) |> \n  arrange(right) |> \n  gt::gt(groupname_col = \"schema\", row_group_as_column = TRUE) |> \n  gt::fmt_number()\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"ckvsjxpkkw\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#ckvsjxpkkw table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#ckvsjxpkkw thead, #ckvsjxpkkw tbody, #ckvsjxpkkw tfoot, #ckvsjxpkkw tr, #ckvsjxpkkw td, #ckvsjxpkkw th {\n  border-style: none;\n}\n\n#ckvsjxpkkw p {\n  margin: 0;\n  padding: 0;\n}\n\n#ckvsjxpkkw .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#ckvsjxpkkw .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#ckvsjxpkkw .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#ckvsjxpkkw .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#ckvsjxpkkw .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#ckvsjxpkkw .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ckvsjxpkkw .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#ckvsjxpkkw .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#ckvsjxpkkw .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#ckvsjxpkkw .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#ckvsjxpkkw .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#ckvsjxpkkw .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#ckvsjxpkkw .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#ckvsjxpkkw .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#ckvsjxpkkw .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#ckvsjxpkkw .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#ckvsjxpkkw .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#ckvsjxpkkw .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#ckvsjxpkkw .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ckvsjxpkkw .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#ckvsjxpkkw .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#ckvsjxpkkw .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#ckvsjxpkkw .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ckvsjxpkkw .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#ckvsjxpkkw .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#ckvsjxpkkw .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ckvsjxpkkw .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ckvsjxpkkw .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#ckvsjxpkkw .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ckvsjxpkkw .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#ckvsjxpkkw .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ckvsjxpkkw .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#ckvsjxpkkw .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ckvsjxpkkw .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#ckvsjxpkkw .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ckvsjxpkkw .gt_left {\n  text-align: left;\n}\n\n#ckvsjxpkkw .gt_center {\n  text-align: center;\n}\n\n#ckvsjxpkkw .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#ckvsjxpkkw .gt_font_normal {\n  font-weight: normal;\n}\n\n#ckvsjxpkkw .gt_font_bold {\n  font-weight: bold;\n}\n\n#ckvsjxpkkw .gt_font_italic {\n  font-style: italic;\n}\n\n#ckvsjxpkkw .gt_super {\n  font-size: 65%;\n}\n\n#ckvsjxpkkw .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#ckvsjxpkkw .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#ckvsjxpkkw .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#ckvsjxpkkw .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#ckvsjxpkkw .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#ckvsjxpkkw .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#ckvsjxpkkw .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    \n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"\"></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"left\">left</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"right\">right</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"omega\">omega</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"p_omega\">p_omega</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"p_left_better\">p_left_better</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"p_right_better\">p_right_better</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr class=\"gt_row_group_first\"><td headers=\"thin stub_1_1 stub_1\" rowspan=\"10\" class=\"gt_row gt_left gt_stub_row_group\">thin</td>\n<td headers=\"thin stub_1_1 left\" class=\"gt_row gt_right\">2.00</td>\n<td headers=\"thin stub_1_1 right\" class=\"gt_row gt_right\">1.00</td>\n<td headers=\"thin stub_1_1 omega\" class=\"gt_row gt_right\">1.28</td>\n<td headers=\"thin stub_1_1 p_omega\" class=\"gt_row gt_right\">0.00</td>\n<td headers=\"thin stub_1_1 p_left_better\" class=\"gt_row gt_right\">0.99</td>\n<td headers=\"thin stub_1_1 p_right_better\" class=\"gt_row gt_right\">0.01</td></tr>\n    <tr><td headers=\"thin left_2 left\" class=\"gt_row gt_right\">3.00</td>\n<td headers=\"thin left_2 right\" class=\"gt_row gt_right\">1.00</td>\n<td headers=\"thin left_2 omega\" class=\"gt_row gt_right\">1.70</td>\n<td headers=\"thin left_2 p_omega\" class=\"gt_row gt_right\">0.00</td>\n<td headers=\"thin left_2 p_left_better\" class=\"gt_row gt_right\">1.00</td>\n<td headers=\"thin left_2 p_right_better\" class=\"gt_row gt_right\">0.00</td></tr>\n    <tr><td headers=\"thin left_3 left\" class=\"gt_row gt_right\">4.00</td>\n<td headers=\"thin left_3 right\" class=\"gt_row gt_right\">1.00</td>\n<td headers=\"thin left_3 omega\" class=\"gt_row gt_right\">2.29</td>\n<td headers=\"thin left_3 p_omega\" class=\"gt_row gt_right\">0.00</td>\n<td headers=\"thin left_3 p_left_better\" class=\"gt_row gt_right\">1.00</td>\n<td headers=\"thin left_3 p_right_better\" class=\"gt_row gt_right\">0.00</td></tr>\n    <tr><td headers=\"thin left_4 left\" class=\"gt_row gt_right\">5.00</td>\n<td headers=\"thin left_4 right\" class=\"gt_row gt_right\">1.00</td>\n<td headers=\"thin left_4 omega\" class=\"gt_row gt_right\">3.85</td>\n<td headers=\"thin left_4 p_omega\" class=\"gt_row gt_right\">0.00</td>\n<td headers=\"thin left_4 p_left_better\" class=\"gt_row gt_right\">1.00</td>\n<td headers=\"thin left_4 p_right_better\" class=\"gt_row gt_right\">0.00</td></tr>\n    <tr><td headers=\"thin left_5 left\" class=\"gt_row gt_right\">3.00</td>\n<td headers=\"thin left_5 right\" class=\"gt_row gt_right\">2.00</td>\n<td headers=\"thin left_5 omega\" class=\"gt_row gt_right\">0.54</td>\n<td headers=\"thin left_5 p_omega\" class=\"gt_row gt_right\">0.00</td>\n<td headers=\"thin left_5 p_left_better\" class=\"gt_row gt_right\">1.00</td>\n<td headers=\"thin left_5 p_right_better\" class=\"gt_row gt_right\">0.00</td></tr>\n    <tr><td headers=\"thin left_6 left\" class=\"gt_row gt_right\">4.00</td>\n<td headers=\"thin left_6 right\" class=\"gt_row gt_right\">2.00</td>\n<td headers=\"thin left_6 omega\" class=\"gt_row gt_right\">2.71</td>\n<td headers=\"thin left_6 p_omega\" class=\"gt_row gt_right\">0.00</td>\n<td headers=\"thin left_6 p_left_better\" class=\"gt_row gt_right\">1.00</td>\n<td headers=\"thin left_6 p_right_better\" class=\"gt_row gt_right\">0.00</td></tr>\n    <tr><td headers=\"thin left_7 left\" class=\"gt_row gt_right\">5.00</td>\n<td headers=\"thin left_7 right\" class=\"gt_row gt_right\">2.00</td>\n<td headers=\"thin left_7 omega\" class=\"gt_row gt_right\">4.32</td>\n<td headers=\"thin left_7 p_omega\" class=\"gt_row gt_right\">0.00</td>\n<td headers=\"thin left_7 p_left_better\" class=\"gt_row gt_right\">1.00</td>\n<td headers=\"thin left_7 p_right_better\" class=\"gt_row gt_right\">0.00</td></tr>\n    <tr><td headers=\"thin left_8 left\" class=\"gt_row gt_right\">4.00</td>\n<td headers=\"thin left_8 right\" class=\"gt_row gt_right\">3.00</td>\n<td headers=\"thin left_8 omega\" class=\"gt_row gt_right\">2.90</td>\n<td headers=\"thin left_8 p_omega\" class=\"gt_row gt_right\">0.00</td>\n<td headers=\"thin left_8 p_left_better\" class=\"gt_row gt_right\">1.00</td>\n<td headers=\"thin left_8 p_right_better\" class=\"gt_row gt_right\">0.00</td></tr>\n    <tr><td headers=\"thin left_9 left\" class=\"gt_row gt_right\">5.00</td>\n<td headers=\"thin left_9 right\" class=\"gt_row gt_right\">3.00</td>\n<td headers=\"thin left_9 omega\" class=\"gt_row gt_right\">4.32</td>\n<td headers=\"thin left_9 p_omega\" class=\"gt_row gt_right\">0.00</td>\n<td headers=\"thin left_9 p_left_better\" class=\"gt_row gt_right\">1.00</td>\n<td headers=\"thin left_9 p_right_better\" class=\"gt_row gt_right\">0.00</td></tr>\n    <tr><td headers=\"thin left_10 left\" class=\"gt_row gt_right\">5.00</td>\n<td headers=\"thin left_10 right\" class=\"gt_row gt_right\">4.00</td>\n<td headers=\"thin left_10 omega\" class=\"gt_row gt_right\">1.37</td>\n<td headers=\"thin left_10 p_omega\" class=\"gt_row gt_right\">0.00</td>\n<td headers=\"thin left_10 p_left_better\" class=\"gt_row gt_right\">1.00</td>\n<td headers=\"thin left_10 p_right_better\" class=\"gt_row gt_right\">0.00</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n:::\n\n\n因此，最终采用`thin`里面最佳聚类结果的模型，其具体结果如 @fig-best-model 。基于此结果我们可以比较确定地指出我们的数据可以很好地拟合一个包含七个因子的模型，根据每一个因子里面包含任务之间的关系，我们给出这些因子的名字见。\n\n\n::: {.cell .column-page hash='index_cache/html/fig-best-model_e4779c66412d31df5d50daf473f1cad6'}\n\n```{.r .cell-code}\ntargets::tar_read(config_thin_1, store = projects$explore_factors$store) |>\n  separate_wider_delim(\n    game_index, \".\",\n    names = c(\"game_name_abbr\", \"index_name\")\n  ) |>\n  mutate(\n    game_name = pull(\n      data.iquizoo::game_info,\n      game_name,\n      game_name_abbr\n    )[game_name_abbr]\n  ) |>\n  ggplot(aes(label = game_name, size = sil_width, color = sil_width < 0.5)) +\n  ggwordcloud::geom_text_wordcloud() +\n  scale_color_grey() +\n  facet_wrap(~latent) +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![最佳模型各因子所含任务指标](index_files/figure-html/fig-best-model-1.png){#fig-best-model width=960}\n:::\n:::\n\n::: {#tbl-dimensions .cell tbl-cap='各维度命名' hash='index_cache/html/tbl-dimensions_8f4de9ab731eeb4de48fd1ecb6b1eaad'}\n\n```{.r .cell-code}\nread_csv(\"config/dimensions.csv\", show_col_types = FALSE) |> \n  mutate(factor = str_c(\"F\", cluster), .keep = \"unused\", .before = 1L) |> \n  gt::gt(rowname_col = \"factor\")\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"cxwkcexmkb\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#cxwkcexmkb table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#cxwkcexmkb thead, #cxwkcexmkb tbody, #cxwkcexmkb tfoot, #cxwkcexmkb tr, #cxwkcexmkb td, #cxwkcexmkb th {\n  border-style: none;\n}\n\n#cxwkcexmkb p {\n  margin: 0;\n  padding: 0;\n}\n\n#cxwkcexmkb .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#cxwkcexmkb .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#cxwkcexmkb .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#cxwkcexmkb .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#cxwkcexmkb .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#cxwkcexmkb .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#cxwkcexmkb .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#cxwkcexmkb .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#cxwkcexmkb .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#cxwkcexmkb .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#cxwkcexmkb .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#cxwkcexmkb .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#cxwkcexmkb .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#cxwkcexmkb .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#cxwkcexmkb .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#cxwkcexmkb .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#cxwkcexmkb .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#cxwkcexmkb .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#cxwkcexmkb .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#cxwkcexmkb .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#cxwkcexmkb .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#cxwkcexmkb .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#cxwkcexmkb .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#cxwkcexmkb .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#cxwkcexmkb .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#cxwkcexmkb .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#cxwkcexmkb .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#cxwkcexmkb .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#cxwkcexmkb .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#cxwkcexmkb .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#cxwkcexmkb .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#cxwkcexmkb .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#cxwkcexmkb .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#cxwkcexmkb .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#cxwkcexmkb .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#cxwkcexmkb .gt_left {\n  text-align: left;\n}\n\n#cxwkcexmkb .gt_center {\n  text-align: center;\n}\n\n#cxwkcexmkb .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#cxwkcexmkb .gt_font_normal {\n  font-weight: normal;\n}\n\n#cxwkcexmkb .gt_font_bold {\n  font-weight: bold;\n}\n\n#cxwkcexmkb .gt_font_italic {\n  font-style: italic;\n}\n\n#cxwkcexmkb .gt_super {\n  font-size: 65%;\n}\n\n#cxwkcexmkb .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#cxwkcexmkb .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#cxwkcexmkb .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#cxwkcexmkb .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#cxwkcexmkb .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#cxwkcexmkb .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#cxwkcexmkb .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    \n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"\"></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"dim_name\">dim_name</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"dim_label\">dim_label</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><th id=\"stub_1_1\" scope=\"row\" class=\"gt_row gt_left gt_stub\">F1</th>\n<td headers=\"stub_1_1 dim_name\" class=\"gt_row gt_left\">WM-Reasoning</td>\n<td headers=\"stub_1_1 dim_label\" class=\"gt_row gt_left\">WM_Rsn</td></tr>\n    <tr><th id=\"stub_1_2\" scope=\"row\" class=\"gt_row gt_left gt_stub\">F2</th>\n<td headers=\"stub_1_2 dim_name\" class=\"gt_row gt_left\">Inhibition</td>\n<td headers=\"stub_1_2 dim_label\" class=\"gt_row gt_left\">Inh</td></tr>\n    <tr><th id=\"stub_1_3\" scope=\"row\" class=\"gt_row gt_left gt_stub\">F3</th>\n<td headers=\"stub_1_3 dim_name\" class=\"gt_row gt_left\">Verbal STM</td>\n<td headers=\"stub_1_3 dim_label\" class=\"gt_row gt_left\">VSTM</td></tr>\n    <tr><th id=\"stub_1_4\" scope=\"row\" class=\"gt_row gt_left gt_stub\">F4</th>\n<td headers=\"stub_1_4 dim_name\" class=\"gt_row gt_left\">Spatial STM</td>\n<td headers=\"stub_1_4 dim_label\" class=\"gt_row gt_left\">SSTM</td></tr>\n    <tr><th id=\"stub_1_5\" scope=\"row\" class=\"gt_row gt_left gt_stub\">F5</th>\n<td headers=\"stub_1_5 dim_name\" class=\"gt_row gt_left\">Attention and Speed</td>\n<td headers=\"stub_1_5 dim_label\" class=\"gt_row gt_left\">Att_Spd</td></tr>\n    <tr><th id=\"stub_1_6\" scope=\"row\" class=\"gt_row gt_left gt_stub\">F6</th>\n<td headers=\"stub_1_6 dim_name\" class=\"gt_row gt_left\">Episodic Memory</td>\n<td headers=\"stub_1_6 dim_label\" class=\"gt_row gt_left\">EM</td></tr>\n    <tr><th id=\"stub_1_7\" scope=\"row\" class=\"gt_row gt_left gt_stub\">F7</th>\n<td headers=\"stub_1_7 dim_name\" class=\"gt_row gt_left\">Shifting</td>\n<td headers=\"stub_1_7 dim_label\" class=\"gt_row gt_left\">Shift</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n:::\n\n\n# 拟合优化\n\n以下是一些基本的前提要求：\n\n-   每个维度选择3个任务\n-   保证选择出来的任务不能太类似\n-   保证拟合优度达标\n-   排除n-back任务\n-   排除专注大师_中级（和速算师太类似）\n-   排除词汇判断、声调判断（和语义判断太类似）\n-   排除数感、捉虫高级版（目前被归入抑制类任务，不太典型）\n-   排除连点成画、变戏法（目前被归入分配注意类任务，不太典型）\n\n基于以上规则然后选择每个维度载荷最高的任务（基于2nd order model）：\n\n\n::: {.cell hash='index_cache/html/select-results_a96588f825acdc46b3c450903403a6d4'}\n\n```{.r .cell-code}\ntargets::tar_load(\n  c(dims_origin, indices_wider_clean,\n    fit_origin_bifactor, fit_origin_highorder,\n    scores_origin),\n  store = projects$confirm_factors$store\n)\ntargets::tar_load(\n  c(indices, durations),\n  store = projects$prepare_source_data$store\n)\ntargets::tar_load(\n  reliability,\n  store = projects$prepare_source_data_retest$store\n)\nexclude <- c(\n  \"CalcSpdMed.nc\", \"Lexic.nc\", \"Tone.nc\",\n  \"NsymNCmp.w\", \"TOVAS.dprime\",\n  \"AntiSac.ies\", \"FPTPro.nc\"\n)\ntask_loadings <- list(\n  highorder = fit_origin_highorder,\n  bifactor = fit_origin_bifactor\n) |>\n  map(\n    ~ parameters::model_parameters(.x, standardize = TRUE) |>\n      filter(Component == \"Loading\") |>\n      as_tibble()\n  ) |>\n  bind_rows(.id = \"model\")\ngame_ver_latest <- indices |>\n  summarise(\n    ver_major_latest = max(str_extract(game_version, \"\\\\d\")),\n    .by = game_id\n  )\n\ndim_task_sel <- task_loadings |>\n  filter(\n    To != \"g\",\n    !From %in% exclude,\n    model == \"highorder\"\n  ) |>\n  slice_max(Coefficient, n = 3, by = To)\ndim_task_sel |>\n  separate_wider_delim(\n    From, \".\",\n    names = c(\"game_name_abbr\", \"index_name\")\n  ) |>\n  left_join(data.iquizoo::game_info, by = \"game_name_abbr\") |>\n  left_join(game_ver_latest, by = \"game_id\") |>\n  left_join(durations, by = \"game_id\") |>\n  left_join(\n    reliability |>\n      filter(\n        origin == \"rm_out\",\n        ver_major == max(ver_major),\n        .by = game_id\n      ),\n    by = join_by(game_id, index_name)\n  ) |>\n  select(\n    game_id, game_name, dim_label = To, load = Coefficient,\n    dur_min = numeric.p75, N = n, r, icc,\n    ver_major_latest, ver_major\n  ) |>\n  gt::gt() |>\n  gt::fmt_number(-N) |>\n  gt::cols_hide(contains(\"ver_major\")) |>\n  gt::tab_footnote(\n    \"Reliability measure is based on an older version.\",\n    gt::cells_body(\n      columns = game_name,\n      rows = ver_major_latest > ver_major\n    )\n  ) |>\n  gt::tab_footnote(\n    paste(\n      \"Based on 75% quantile,\",\n      \"i.e., 75% people will finish the task within given time (unit: minutes).\"\n    ),\n    gt::cells_column_labels(dur_min)\n  ) |>\n  gt::opt_footnote_marks(\"standard\")\n```\n:::\n\n\n这些任务的拟合情况总结（整体上模型拟合优度良好）：\n\n\n::: {.cell hash='index_cache/html/show-fit-measure_b56642447b1145884f8367d90d34e1db'}\n\n```{.r .cell-code}\nfit <- dim_task_sel |>\n  prepare_model(\n    col_dim = \"To\",\n    col_task = \"From\",\n    hierarchical = \"bifactor\"\n  ) |>\n  fit_cfa(indices_wider_clean, orthogonal = TRUE)\nsummary(fit, fit.measures = TRUE, standardized = TRUE)\n```\n:::\n\n\n<!-- TODO: 加入简短版本拟合情况 -->\n\n\n::: {.cell hash='index_cache/html/unnamed-chunk-11_42a3f6b9beee080efea56fc7f8651d8b'}\n\n```{.r .cell-code}\ncor_task_dim <- indices_wider_clean |>\n  pivot_longer(\n    -user_id,\n    names_to = \"game_index\",\n    values_to = \"score_game\"\n  ) |>\n  inner_join(dims_origin, by = \"game_index\") |>\n  inner_join(\n    scores_origin |>\n      pivot_longer(\n        -c(hierarchical, user_id),\n        names_to = \"dim_label\",\n        values_to = \"score_latent\"\n      ),\n    by = c(\"user_id\", \"dim_label\"),\n    relationship = \"many-to-many\"\n  ) |>\n  summarise(\n    r = cor(score_game, score_latent, use = \"pairwise\"),\n    .by = c(hierarchical, game_index, dim_label)\n  )\nselection_1 <- cor_task_dim |>\n  filter(!game_index %in% exclude, hierarchical == \"highorder\") |>\n  slice_max(r, n = 3, by = dim_label)\nfit_1 <- selection_1 |>\n  prepare_model(\n    col_dim = \"dim_label\",\n    col_task = \"game_index\",\n    hierarchical = \"bifactor\"\n  ) |>\n  fit_cfa(indices_wider_clean, orthogonal = TRUE)\nsummary(fit_1, fit.measures = TRUE, standardized = TRUE)\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}